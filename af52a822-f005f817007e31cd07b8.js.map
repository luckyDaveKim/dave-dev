{"version":3,"sources":["webpack:///./src/components/header/SiteNav.tsx"],"names":["SiteNav","React","Component","subscribe","createRef","titleRef","lastScrollY","ticking","state","showTitle","openModal","this","current","open","onScroll","requestAnimationFrame","update","window","scrollY","trigger","getBoundingClientRect","top","triggerOffset","offsetHeight","setState","componentDidMount","props","isPost","addEventListener","passive","componentWillUnmount","removeEventListener","render","isHome","post","config","showSubscribe","ref","css","HomeNavRaise","SiteNavStyles","SiteNavLeft","className","SiteNavContent","HideNav","NavStyles","role","to","NavLink","activeClassName","NavPostTitle","title","SiteNavRight","SocialLinks","github","SocialLink","SocialLinkGitHub","href","target","rel","linkedin","SocialLinkLinkedIn","facebook","SocialLinkFacebook","instagram","SocialLinkInstagram","twitter","SubscribeButton","onClick","children","getProps","isCurrent","isPartiallyCurrent","isActive","SiteNavMain","darken","colors","darkgrey"],"mappings":"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","file":"af52a822-f005f817007e31cd07b8.js","sourcesContent":["import { GatsbyLinkProps, Link } from 'gatsby';\nimport { darken } from 'polished';\nimport React  from 'react';\n\nimport { LinkGetProps } from '@reach/router';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { colors } from '../../styles/colors';\nimport {\n  SocialLink,\n  SocialLinkGitHub,\n  SocialLinkLinkedIn,\n  SocialLinkFacebook,\n  SocialLinkInstagram\n} from '../../styles/shared';\nimport config from '../../website-config';\nimport { GitHub } from '../icons/GitHub';\nimport { LinkedIn } from \"../icons/LinkedIn\";\nimport { Facebook } from '../icons/Facebook';\nimport { Instagram } from '../icons/Instagram';\nimport { Twitter } from '../icons/Twitter';\nimport { SubscribeModal } from '../subscribe/SubscribeModal';\nimport { SiteNavLogo } from './SiteNavLogo';\n\ninterface SiteNavProps {\n  isHome?: boolean;\n  isPost?: boolean;\n  post?: any;\n}\n\ninterface SiteNavState {\n  showTitle: boolean;\n}\n\nclass SiteNav extends React.Component<SiteNavProps, SiteNavState> {\n  subscribe = React.createRef<SubscribeModal>();\n  titleRef = React.createRef<HTMLSpanElement>();\n  lastScrollY = 0;\n  ticking = false;\n  state = { showTitle: false };\n\n  openModal = () => {\n    if (this.subscribe.current) {\n      this.subscribe.current.open();\n    }\n  };\n\n  componentDidMount(): void {\n    this.lastScrollY = window.scrollY;\n    if (this.props.isPost) {\n      window.addEventListener('scroll', this.onScroll, { passive: true });\n    }\n  }\n\n  componentWillUnmount(): void {\n    window.removeEventListener('scroll', this.onScroll);\n  }\n\n  onScroll = () => {\n    if (!this.titleRef || !this.titleRef.current) {\n      return;\n    }\n\n    if (!this.ticking) {\n      requestAnimationFrame(this.update);\n    }\n\n    this.ticking = true;\n  };\n\n  update = () => {\n    if (!this.titleRef || !this.titleRef.current) {\n      return;\n    }\n\n    this.lastScrollY = window.scrollY;\n\n    const trigger = this.titleRef.current.getBoundingClientRect().top;\n    const triggerOffset = this.titleRef.current.offsetHeight + 35;\n\n    // show/hide post title\n    if (this.lastScrollY >= trigger + triggerOffset) {\n      this.setState({ showTitle: true });\n    } else {\n      this.setState({ showTitle: false });\n    }\n\n    this.ticking = false;\n  };\n\n  render() {\n    const { isHome = false, isPost = false, post = {} } = this.props;\n    return (\n      <>\n        {config.showSubscribe && <SubscribeModal ref={this.subscribe} />}\n        <nav css={[isHome && HomeNavRaise, SiteNavStyles]}>\n          <SiteNavLeft className=\"site-nav-left\">\n            {!isHome && <SiteNavLogo />}\n            <SiteNavContent css={[this.state.showTitle ? HideNav : '']}>\n              <ul css={NavStyles} role=\"menu\">\n                <li role=\"menuitem\">\n                  <Link to=\"/\">Home</Link>\n                </li>\n                <li role=\"menuitem\">\n                  <NavLink to=\"/about\" activeClassName=\"active\">\n                    About\n                  </NavLink>\n                </li>\n                <li role=\"menuitem\">\n                  <NavLink to=\"/development\" activeClassName=\"active\">\n                    Development\n                  </NavLink>\n                </li>\n                <li role=\"menuitem\">\n                  <NavLink to=\"/algorithm\" activeClassName=\"active\">\n                    Algorithm\n                  </NavLink>\n                </li>\n                <li role=\"menuitem\">\n                  <NavLink to=\"/tags\" activeClassName=\"active\">\n                    Tags\n                  </NavLink>\n                </li>\n              </ul>\n              {isPost && (\n                <NavPostTitle ref={this.titleRef} className=\"nav-post-title\">\n                  {post.title}\n                </NavPostTitle>\n              )}\n            </SiteNavContent>\n          </SiteNavLeft>\n          <SiteNavRight>\n            <SocialLinks>\n              {config.github && (\n                <a\n                  css={[SocialLink, SocialLinkGitHub]}\n                  href={config.github}\n                  target=\"_blank\"\n                  title=\"GitHub\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <GitHub />\n                </a>\n              )}\n              {config.linkedin && (\n                <a\n                  css={[SocialLink, SocialLinkLinkedIn]}\n                  href={config.linkedin}\n                  target=\"_blank\"\n                  title=\"LinkedIn\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <LinkedIn />\n                </a>\n              )}\n              {config.facebook && (\n                <a\n                  css={[SocialLink, SocialLinkFacebook]}\n                  href={config.facebook}\n                  target=\"_blank\"\n                  title=\"Facebook\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Facebook />\n                </a>\n              )}\n              {config.instagram && (\n                <a\n                  css={[SocialLink, SocialLinkInstagram]}\n                  href={config.instagram}\n                  target=\"_blank\"\n                  title=\"Instagram\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Instagram />\n                </a>\n              )}\n              {config.twitter && (\n                <a\n                  css={SocialLink}\n                  href={config.twitter}\n                  title=\"Twitter\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Twitter />\n                </a>\n              )}\n            </SocialLinks>\n            {config.showSubscribe && (\n              <SubscribeButton onClick={this.openModal}>Subscribe</SubscribeButton>\n            )}\n          </SiteNavRight>\n        </nav>\n      </>\n    );\n  }\n}\n\nconst NavLink: React.FC<Omit<GatsbyLinkProps<{}>, 'ref'>> = ({ className, children, ...props }) => {\n  const isActive = (className: string | undefined) => ({ isCurrent, isPartiallyCurrent }: LinkGetProps) => {\n    const activeClassName = { className: `${className} active` }\n    return (isCurrent || isPartiallyCurrent ) ? activeClassName : { className };\n  };\n\n  return (\n    <Link getProps={isActive(className)} {...props}>\n      {children}\n    </Link>\n  )\n};\n\nexport const SiteNavMain = css`\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1000;\n  /* background: color(var(--darkgrey) l(-5%)) */\n  background: ${darken('0.05', colors.darkgrey)};\n\n  @media (max-width: 700px) {\n    padding-right: 0;\n    padding-left: 0;\n  }\n`;\n\nconst HomeNavRaise = css`\n  @media (min-width: 900px) {\n    position: relative;\n    top: -70px;\n  }\n`;\n\nconst SiteNavStyles = css`\n  position: relative;\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  overflow-y: hidden;\n  height: 64px;\n  font-size: 1.3rem;\n`;\n\nconst SiteNavLeft = styled.div`\n  flex: 1 0 auto;\n  display: flex;\n  align-items: center;\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin-right: 10px;\n  padding: 10px 0 80px;\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  text-transform: uppercase;\n  white-space: nowrap;\n\n  -ms-overflow-scrolling: touch;\n\n  @media (max-width: 700px) {\n    margin-right: 0;\n    padding-left: 5vw;\n  }\n`;\n\nconst SiteNavContent = styled.div`\n  position: relative;\n  align-self: flex-start;\n`;\n\nconst NavStyles = css`\n  position: absolute;\n  z-index: 1000;\n  display: flex;\n  margin: 0 0 0 -12px;\n  padding: 0;\n  list-style: none;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n\n  li {\n    display: block;\n    margin: 0;\n    padding: 0;\n  }\n\n  li a {\n    position: relative;\n    display: block;\n    padding: 12px 12px;\n    color: #fff;\n    opacity: 0.8;\n    transition: opacity 0.35s ease-in-out;\n  }\n\n  li a:hover {\n    text-decoration: none;\n    opacity: 1;\n  }\n\n  li a:before {\n    content: '';\n    position: absolute;\n    right: 100%;\n    bottom: 8px;\n    left: 12px;\n    height: 1px;\n    background: #fff;\n    opacity: 0.25;\n    transition: all 0.35s ease-in-out;\n  }\n\n  li a:hover:before {\n    right: 12px;\n    opacity: 0.5;\n  }\n\n  li .active {\n    opacity: 1;\n  }\n\n  li .active:before {\n    right: 12px;\n    opacity: 0.5;\n  }\n`;\n\nconst SiteNavRight = styled.div`\n  flex: 0 1 auto;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 10px 0;\n  height: 64px;\n\n  @media (max-width: 700px) {\n    display: none;\n  }\n`;\n\nconst SocialLinks = styled.div`\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst SubscribeButton = styled.a`\n  display: block;\n  padding: 4px 10px;\n  margin: 0 0 0 10px;\n  border: #fff 1px solid;\n  color: #fff;\n  line-height: 1em;\n  border-radius: 10px;\n  opacity: 0.8;\n\n  :hover {\n    text-decoration: none;\n    opacity: 1;\n    cursor: pointer;\n  }\n`;\n\nconst NavPostTitle = styled.span`\n  visibility: hidden;\n  position: absolute;\n  top: 9px;\n  color: #fff;\n  font-size: 1.7rem;\n  font-weight: 400;\n  text-transform: none;\n  opacity: 0;\n  transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);\n  transform: translateY(175%);\n\n  .dash {\n    left: -25px;\n  }\n\n  .dash:before {\n    content: 'â€“ ';\n    opacity: 0.5;\n  }\n`;\n\nconst HideNav = css`\n  ul {\n    visibility: hidden;\n    opacity: 0;\n    transform: translateY(-175%);\n  }\n  .nav-post-title {\n    visibility: visible;\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nexport default SiteNav;\n"],"sourceRoot":""}